---
title: usb读写
url: 283.html
id: 283
categories:
  - Bob
date: 2017-05-18 14:34:04
tags:
---

今天上午这个难受，估计是消炎药刺激肠胃，越来越恶心，最终还是没避免吐了一地。 吐完了，舒服一些了。中午去给Fiona买了点当季新鲜水果，今天小丫头居然数学计算受表扬了。 说实话，Fiona没上学前班，自己的学习压力还是挺大的，半个月前还是弄不明白进位呢，现在都10分钟100道题了。 我挺欣慰。 中午这个牙吃东西还是不舒服，不敢咀嚼，喝点粥。 下午好一些继续调那个usb读写的程序，用的libusb，一直卡在读写上，开始是endpoint错了，后来改为正确的，在windows下writefile始终返回参数不对，我一直发9个字节。后来看那个usb调试助手每次都可以，我就也把发送字节改为64个了。这样就都ok了。 没弄过usb，估计是每次interrupt transfer都是设备定义的max-packet大小，这个设备定义的是0x40，所以就收发64字节都没问题，小于这个数就不行。 现在这个读写usb的小程序终于挑好了，挺好玩。 以后可以直接和usb通讯了，哈哈。